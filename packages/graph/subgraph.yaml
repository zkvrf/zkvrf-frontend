specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: VRFCoordinatorV2
    network: sepolia
    source:
      address: "0x8103B0A8A00be2DDC778e6e7eaa21791Cd364625"
      abi: VRFCoordinatorV2
      startBlock: 2751514
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - ConfigSet
        - FundsRecovered
        - OwnershipTransferRequested
        - OwnershipTransferred
        - ProvingKeyDeregistered
        - ProvingKeyRegistered
        - RandomWordsFulfilled
        - RandomWordsRequested
        - SubscriptionCanceled
        - SubscriptionConsumerAdded
        - SubscriptionConsumerRemoved
        - SubscriptionCreated
        - SubscriptionFunded
        - SubscriptionOwnerTransferRequested
        - SubscriptionOwnerTransferred
      abis:
        - name: VRFCoordinatorV2
          file: ./abis/VRFCoordinatorV2.json
      eventHandlers:
        - event: ConfigSet(uint16,uint32,uint32,uint32,int256,(uint32,uint32,uint32,uint32,uint32,uint24,uint24,uint24,uint24))
          handler: handleConfigSet
        - event: FundsRecovered(address,uint256)
          handler: handleFundsRecovered
        - event: OwnershipTransferRequested(indexed address,indexed address)
          handler: handleOwnershipTransferRequested
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: ProvingKeyDeregistered(bytes32,indexed address)
          handler: handleProvingKeyDeregistered
        - event: ProvingKeyRegistered(bytes32,indexed address)
          handler: handleProvingKeyRegistered
        - event: RandomWordsFulfilled(indexed uint256,uint256,uint96,bool)
          handler: handleRandomWordsFulfilled
        - event: RandomWordsRequested(indexed bytes32,uint256,uint256,indexed uint64,uint16,uint32,uint32,indexed address)
          handler: handleRandomWordsRequested
        - event: SubscriptionCanceled(indexed uint64,address,uint256)
          handler: handleSubscriptionCanceled
        - event: SubscriptionConsumerAdded(indexed uint64,address)
          handler: handleSubscriptionConsumerAdded
        - event: SubscriptionConsumerRemoved(indexed uint64,address)
          handler: handleSubscriptionConsumerRemoved
        - event: SubscriptionCreated(indexed uint64,address)
          handler: handleSubscriptionCreated
        - event: SubscriptionFunded(indexed uint64,uint256,uint256)
          handler: handleSubscriptionFunded
        - event: SubscriptionOwnerTransferRequested(indexed uint64,address,address)
          handler: handleSubscriptionOwnerTransferRequested
        - event: SubscriptionOwnerTransferred(indexed uint64,address,address)
          handler: handleSubscriptionOwnerTransferred
      file: ./src/vrf-coordinator-v-2.ts
